

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.5.3. Raster calculator &mdash; GIS4Schools  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.5.4. Vectorization" href="2_5_4.html" />
    <link rel="prev" title="2.5.2. Removing NoData" href="2_5_2.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> GIS4Schools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../part1/part1.html">1. Data visualization with QGIS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_1.html">1.1. Introduction to GIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_2.html">1.2. Coordinate reference Systems, Projections, EPSG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_3.html">1.3. GIS data modelling, Raster data, Vector data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_4.html">1.4. Geopackage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_5.html">1.5. Introduction to QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_6.html">1.6. QGIS interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_7.html">1.7. Mangage GeoPackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_8.html">1.8. QGIS visualization for vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_9.html">1.9. QGIS visualization for rasters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_10.html">1.10. Printing maps with QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part1/1_11.html">1.11. Atlases</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../part2.html">2. GIS &amp; Analysis tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../2_1.html">2.1. Introduction to Geospatial Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_2.html">2.2. Accessing OGC services with QGIS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2_2.html#wms-wmts">2.2.1. WMS/WMTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2_2.html#wfs">2.2.2. WFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2_2.html#wcs">2.2.3. WCS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2_3.html">2.3. Extending QGIS functionalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2_3.html#id1">2.3.1. Processing toolbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2_3.html#id5">2.3.2. Plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vector/vector.html">2.4. Vector processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_1.html">2.4.1. Map digitizing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_2.html">2.4.2. Attribute table: selection, editing and field calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_3.html">2.4.3. Join</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_4.html">2.4.4. Dissolve</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_5.html">2.4.5. Field calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_6.html">2.4.6. Rasterization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_7.html">2.4.7. Geoprocessing tools – Intersection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/2_4_8.html">2.4.8. Geoprocessing tools – Buffer</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="raster.html">2.5. Raster processing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="2_5_1.html">2.5.1. Reprojection</a></li>
<li class="toctree-l3"><a class="reference internal" href="2_5_2.html">2.5.2. Removing NoData</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.5.3. Raster calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="2_5_4.html">2.5.4. Vectorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="2_5_5.html">2.5.5. Clip raster with a mask, clip raster by extent</a></li>
<li class="toctree-l3"><a class="reference internal" href="2_5_6.html">2.5.6. Overlay statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2_18.html">2.6. Graphic modeler</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GIS4Schools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../part2.html"><span class="section-number">2. </span>GIS &amp; Analysis tools</a> &raquo;</li>
        
          <li><a href="raster.html"><span class="section-number">2.5. </span>Raster processing</a> &raquo;</li>
        
      <li><span class="section-number">2.5.3. </span>Raster calculator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/part2/raster/2_5_3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="raster-calculator">
<h1><span class="section-number">2.5.3. </span>Raster calculator<a class="headerlink" href="#raster-calculator" title="Permalink to this headline">¶</a></h1>
<p>The Raster Calculator tool allows to perform calculations based on the raster pixel values. Calculations are computed on each pixel value and the result is a new raster whose pixel values are the corresponding results from calculations on the corresponding pixels. It is a great tool that can be useful for several applications and for very different operations to apply.</p>
<p>Let us apply it on <em>Temperature_distribution</em> raster data. Suppose that we want to find out the areas in the lakes with the lowest water surface temperatures. First, look at the distribution of values in the raster: the highest detected temperatures are obviously distributed along the borders of the lakes and are fewer with respect to the lower temperatures in the centre of the lakes. It is possible to look also at the raster data histogram (<strong>Properties→histogram</strong>) to see that the most of values are around 12,5°, thus, to find out where the lowest temperatures are localised, let us consider 12° as temperature of reference.</p>
<p>Now, apply <strong>Raster Calculator</strong>. See <a class="reference internal" href="#id1"><span class="std std-numref">Fig. 2.5.3.1</span></a> for the steps. Under <strong>Raster</strong> Menu go to <strong>Raster Calculator</strong>…: it will open a window where to insert the following operation <strong>(1)</strong> to be performed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s2">&quot;Temperature_distribution@1&quot;</span><span class="o">/</span><span class="s2">&quot;Temperature_distribution@1&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">Temperature_distribution</span><span class="o">@</span><span class="mi">1</span><span class="s2">&quot;&lt; 12)  *</span>
<span class="o">*</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;Temperature_distribution@1&quot;</span> <span class="o">&gt;=</span> <span class="mi">12</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="p">)</span>
</pre></div>
</div>
<p>Particularly, with Raster Calculator, it is recommendable to insert the different signs and layers through <em>Operators</em> and <em>Raster Bands</em> buttons.</p>
<p>Our operation is mostly of a logical type (using &lt; and &gt;=): in QGIS, the results of a logical formula can be 1=True or 0=False: therefore, when we input, for example, (Temperature_distribution&#64;1”&lt; 12)* 1  the result here will be 1 or 0 for each pixel, summed to the result of (“Temperature_distribution&#64;1” &gt;= 12 ) * 2 that will be 0 or 2. Obviously one number cannot be contemporarily &lt; or &gt;= 12 therefore the result of the whole second parenthesis will be 1 or 2. In reality, for this case, QGIS would give also 0 result, because it takes <em>nan</em> pixels values of “Temperature_distribution&#64;1” as neither smaller or higher than 12: it is for this reason that we multiply the result of the logical second parenthesis to the first division, to mask out these 0 results.</p>
<p>Before running the computation insert in <strong>(2)</strong> where to save the new raster layer: when choosing for the name of the new raster you can use <em>lowest_temperatures</em>.</p>
<p>After running, a new raster layer will be added to your QGIS project. After changing its render type to <em>Paletted/unique values</em>, you should get a result similar to the one in <a class="reference internal" href="#id1"><span class="std std-numref">Fig. 2.5.3.1</span></a> with pixels with only 1 and 2 values.</p>
<div class="figure align-default" id="id2">
<span id="id1"></span><img alt="../../_images/2.5.3.png" src="../../_images/2.5.3.png" />
<p class="caption"><span class="caption-number">Fig. 2.5.3.1 </span><span class="caption-text">– Raster Calculator steps and result.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2_5_4.html" class="btn btn-neutral float-right" title="2.5.4. Vectorization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2_5_2.html" class="btn btn-neutral float-left" title="2.5.2. Removing NoData" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Maria A. Brovelli, Daniele Oxoli, Carlo Biraghi, Gorica Bratic, Chiara Gerosa, Alberto Vavassori

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>